function(build_abseil lib_path)
    message("******************************************")
    message("************* build abseil ***************")
    message("******************************************")
    set(ABSL_PROPAGATE_CXX_STD ON)
    set(ABSL_ENABLE_INSTALL ON)

    if(BUILD_SHARED_LIBS)
        set(ABSL_BUILD_DLL ON)
        set(ABSL_BUILD_MONOLITHIC_SHARED_LIBS ON)
    else()
        set(ABSL_BUILD_DLL OFF)
        set(ABSL_BUILD_MONOLITHIC_SHARED_LIBS OFF)
    endif()

    set(ABSL_BUILD_TESTING OFF)
    set(ABSL_BUILD_TEST_HELPERS OFF)
    add_subdirectory(${lib_path})
endfunction(build_abseil)