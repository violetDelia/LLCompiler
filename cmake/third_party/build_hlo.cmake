function(build_hlo lib_path llvm_path)
    message("******************************************")
    message("************* build hlo ***************")
    message("******************************************")
    set(LLVM_MAIN_SRC_DIR ${llvm_path})
    set(LLVM_CMAKE_DIR "${LLCOMPILER_GENERATE_INCLUDE_DIR}/../third_party/llvm-project/llvm/lib/cmake/llvm")
    set(MLIR_CMAKE_DIR "${LLCOMPILER_GENERATE_INCLUDE_DIR}/../lib/cmake/mlir")
    list(APPEND CMAKE_MODULE_PATH "${MLIR_CMAKE_DIR}")
    list(APPEND CMAKE_MODULE_PATH "${LLVM_CMAKE_DIR}")
    set(MHLO_BUILD_EMBEDDED ON)
    set(MHLO_EXTERNAL_PROJECT_BUILD ON)
    include_directories(${LLVM_INCLUDE_DIR})
    include_directories(${LLVM_INCLDE_GENERATE_DIR})
    include_directories(${MLIR_INCLUDE_DIR})
    include_directories(${MLIR_INCLUDE_GENERATE_DIR})
    include_directories(${STABLEHLO_INCLUDE_DIR})
    include_directories(${STABLEHLO_INCLUDE_GENERATE_DIR})
    add_subdirectory(${lib_path}/stablehlo)
endfunction(build_hlo)